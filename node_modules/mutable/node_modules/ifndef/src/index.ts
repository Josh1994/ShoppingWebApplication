const globalCtx = (typeof self === 'object' && self.self === self && self) ||
    (typeof global === 'object' && global['global'] === global && global) || this;

export function ifndef(name:string, globalModule:any){
    if(!globalCtx.__ifndef__) {
        globalCtx.__ifndef__ = {}
    }

    if (!globalCtx.__ifndef__[name]) {
        globalCtx.__ifndef__[name] = globalModule;
    }

    return globalCtx.__ifndef__[name];
}

module.exports = ifndef('ifndef', module.exports)
